<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eventify - Tu Centro de Eventos</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/feather-icons"></script>
    <link rel="stylesheet" href="dashboard.css">
</head>
<body>
    <div class="app-container">
        <aside class="sidebar">
            <div class="sidebar-header"><div class="logo">Eventify ✨</div></div>
            <nav class="sidebar-nav">
                <a href="#" class="nav-link active" data-view="explorar"><i data-feather="compass"></i> Explorar</a>
                <a href="#" class="nav-link" data-view="mi-evento"><i data-feather="settings"></i> Mis Eventos</a>
                <a href="#" class="nav-link" data-view="presupuesto"><i data-feather="dollar-sign"></i> Presupuesto</a>
                <a href="#" class="nav-link" data-view="proveedores"><i data-feather="users"></i> Proveedores</a>
                <a href="#" class="nav-link" data-view="guardados"><i data-feather="heart"></i> Guardados</a>
            </nav>
            <div class="sidebar-footer"><button id="logout-btn"><i data-feather="log-out"></i> Cerrar Sesión</button></div>
        </aside>

        <main class="main-content">
            <header class="main-header">
                <div class="smart-search">
                    <i data-feather="search" class="search-icon"></i>
                    <input type="text" id="search-input" placeholder="Busca 'DJ para bodas' o 'catering'">
                </div>
                <div class="user-actions">
                    <div class="user-profile" id="profile-button">
                        <img src="https://i.pravatar.cc/40" alt="Avatar">
                        <span id="user-name-display">Cargando...</span>
                    </div>
                </div>
            </header>

            <div id="app-views">
                <div id="view-explorar" class="app-view active">
                    <section class="event-dashboard">
                        <div class="dashboard-card">
                            <h4>Evento Activo</h4>
                            <p id="active-event-title">Crea o selecciona un evento</p>
                            <small id="active-event-date">para empezar a planificar.</small>
                        </div>
                        <div class="dashboard-card budget-overview">
                            <h4>Presupuesto Restante</h4>
                            <p><span id="budget-remaining">$...</span></p>
                            <div class="progress-bar"><div id="budget-progress" class="progress"></div></div>
                        </div>
                        <div class="dashboard-card vendors-overview">
                            <h4>Proveedores</h4>
                            <p><span id="vendors-count">...</span> contratados</p>
                        </div>
                    </section>
                    <div id="services-content"></div>
                </div>

                <div id="view-mi-evento" class="app-view">
                    <h2>Mis Eventos <button class="btn-primary btn-small" id="create-event-btn">Crear Nuevo Evento</button></h2>
                    <div id="events-list-container">
                        </div>
                </div>
                
                <div id="view-presupuesto" class="app-view">
                    <h2>Resumen de Presupuesto <button class="btn-secondary btn-small" id="edit-budget-btn">Editar Total</button></h2>
                    <div class="card-view" id="budget-details-content"></div>
                </div>
                <div id="view-proveedores" class="app-view">
                    <h2>Mis Proveedores Contratados</h2>
                    <div class="card-view" id="vendors-list-content"></div>
                </div>
                <div id="view-guardados" class="app-view">
                    <h2>Mis Servicios Guardados</h2>
                    <div id="saved-items-content"></div>
                </div>
            </div>
        </main>
    </div>

    <div id="modal-container" class="modal-container">
        <div class="modal-content">
            <button id="modal-close-btn" class="modal-close-btn">&times;</button>
            <div id="modal-body"></div>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="dashboard.js"></script>
</body>
</html>